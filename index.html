<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="用AcFun助手，轻松看新番。">
    <meta name="keywords" content="ACFUN助手 替换播放器 黑科技 ACFUN 动画 无广告">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <link rel="stylesheet" type="text/css" href="stylesheets/main.css">
    <title>acfun助手</title>
  </head>

  <body onload="init()">
    <header>
      <div class="inner">
        <h1>acfun助手</h1>
        <h2></h2>
        <a href="https://github.com/acnya" class="button"><small>Follow me on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main_content" class="inner">
          <p>可以自动替换各种版权播放器，还原为A站播放器。下面是使用方法。</p>
          <hr />
        </section>
        <section class="inner">
            <h3>方案一：使用书签</h3>
            <p>将这一行保存为书签：javascript:(function(){$.getScript('http://acnya.github.io/script.js' + $.salt());})()</p>
            <p>(打开书签栏的快捷键一般是 CTRL+SHIFT+B)</p>
            <p>或者把这个链接拖到书签栏：<a href="javascript:(function(){$.getScript('http://acnya.github.io/script.js' + $.salt());})()">ACFUN助手</a></p>
        </section>
        <section class="inner">
            <h3>方案二：安装chrome扩展</h3>
            <p>chrome扩展：<a href="https://chrome.google.com/webstore/detail/fmmpjedklifccppfahnkkoociliobmlj">https://chrome.google.com/webstore/detail/fmmpjedklifccppfahnkkoociliobmlj</a></p>
            <p>打不开的话尝试改hosts文件：<a href="https://github.com/zxdrive/imouto.host", target="_blank">https://github.com/zxdrive/imouto.host</a></p>
            <p>如果改hosts无效或失效，清除改过的内容。 选择GoAgent或其他代理工具访问。</p>
        </section>
        <section class="inner">
            <h3>方案三：F12进控制台输入</h3>
            <p>$.getScript('http://acnya.github.io/script.js' + $.salt());</p>
            <p>或者把上面的这段代码作为用户脚本的内容。（油猴子什么的没用过啊</p>
        </section>

        <aside id="sidebar">


          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>
    <script src="javascripts/main.js"></script>
    <script src="http://seb.ly/demos/JSSnowNew/js/ThreeCanvas.js"></script>
    <script src="http://seb.ly/demos/JSSnowNew/js/Snow.js"></script>
    <script>

        (function() {
            var lastTime = 0;
            var vendors = ['webkit', 'moz'];
            for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
                window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
                window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] ||    // Webkit中此取消方法的名字变了
                window[vendors[x] + 'CancelRequestAnimationFrame'];
            }

            if (!window.requestAnimationFrame) {
                window.requestAnimationFrame = function(callback, element) {
                    var currTime = new Date().getTime();
                    var timeToCall = Math.max(0, 16.7 - (currTime - lastTime));
                    var id = window.setTimeout(function() {
                        callback(currTime + timeToCall);
                    }, timeToCall);
                    lastTime = currTime + timeToCall;
                    return id;
                };
            }
            if (!window.cancelAnimationFrame) {
                window.cancelAnimationFrame = function(id) {
                    clearTimeout(id);
                };
            }
        }());

        var SCREEN_WIDTH = document.body.scrollWidth;
        var SCREEN_HEIGHT = document.body.scrollHeight;

        var container;

        var particle;

        var camera;
        var scene;
        var renderer;

        var mouseX = 0;
        var mouseY = 0;

        var windowHalfX = window.innerWidth / 2;
        var windowHalfY = SCREEN_HEIGHT / 2;

        var particles = [];
        var particleImage = new Image();//THREE.ImageUtils.loadTexture( "img/ParticleSmoke.png" );
        particleImage.src = 'images/ParticleSmoke.png';



        function init() {
            var n = new Date();
            if (n.getDate() != 25 || n.getMonth() != 11) {
                return;
            }
            container = document.createElement('div');
            container.className = 'snow';
            document.body.appendChild(container);

            camera = new THREE.PerspectiveCamera( 75, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 10000 );
            camera.position.z = 1000;

            scene = new THREE.Scene();
            scene.add(camera);

            renderer = new THREE.CanvasRenderer();
            renderer.setSize(SCREEN_WIDTH, SCREEN_HEIGHT);
            var material = new THREE.ParticleBasicMaterial( { map: new THREE.Texture(particleImage) } );

            for (var i = 0; i < 500; i++) {

                particle = new Particle3D( material);
                particle.position.x = Math.random() * 2000 - 1000;
                particle.position.y = Math.random() * 2000 - 1000;
                particle.position.z = Math.random() * 2000 - 1000;
                particle.scale.x = particle.scale.y =  1;
                scene.add( particle );

                particles.push(particle);
            }

            container.appendChild( renderer.domElement );


            document.addEventListener( 'mousemove', onDocumentMouseMove, false );
            document.addEventListener( 'touchstart', onDocumentTouchStart, false );
            document.addEventListener( 'touchmove', onDocumentTouchMove, false );

            requestAnimationFrame(loop);

            document.body.className = 'snow-on';

        }

        function onDocumentMouseMove( event ) {

            mouseX = event.clientX - windowHalfX;
            mouseY = event.clientY - windowHalfY;
        }

        function onDocumentTouchStart( event ) {

            if ( event.touches.length == 1 ) {

                event.preventDefault();

                mouseX = event.touches[ 0 ].pageX - windowHalfX;
                mouseY = event.touches[ 0 ].pageY - windowHalfY;
            }
        }

        function onDocumentTouchMove( event ) {

            if ( event.touches.length == 1 ) {

                event.preventDefault();

                mouseX = event.touches[ 0 ].pageX - windowHalfX;
                mouseY = event.touches[ 0 ].pageY - windowHalfY;
            }
        }

        //

        function loop() {

            for(var i = 0; i<particles.length; i++)
            {

                var particle = particles[i];
                particle.updatePhysics();

                with(particle.position)
                {
                    if(y<-1000) y+=2000;
                    if(x>1000) x-=2000;
                    else if(x<-1000) x+=2000;
                    if(z>1000) z-=2000;
                    else if(z<-1000) z+=2000;
                }
            }

            camera.position.x += ( mouseX - camera.position.x ) * 0.05;
            camera.position.y += ( - mouseY - camera.position.y ) * 0.05;
            camera.lookAt(scene.position);

            renderer.render( scene, camera );
            requestAnimationFrame(loop);

        }
        document.title = '圣诞快乐！';
    </script>
  </body>
</html>
